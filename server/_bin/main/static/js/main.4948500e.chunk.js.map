{"version":3,"sources":["components/NewExpense/ExpenseForm.js","components/NewExpense/NewExpense.js","components/UI/Card.js","components/Expenses/ExpensesFilter.js","components/Expenses/ExpenseDate.js","components/Expenses/ExpenseItem.js","components/Expenses/ExpensesList.js","components/Chart/ChartBar.js","components/Chart/Chart.js","components/Expenses/ExpensesChart.js","components/Expenses/Expenses.js","utils/axios.js","utils/helper.js","App.js","index.js"],"names":["ExpenseForm","props","useState","title","setTitle","amount","setAmount","date","setDate","onSubmit","oEvent","preventDefault","oExpenseData","Date","onSaveExpenseData","className","value","onChange","target","type","required","min","step","max","onClick","onCancel","NewExpense","editMode","setEditMode","content","prev","oSavedExpenseData","onAddExpense","Card","classes","children","ExpensesFilter","year","event","onYearSelection","ExpenseDate","sMonth","toLocaleString","month","sDay","day","sYear","getFullYear","ExpenseItem","onDeleteItem","src","ExpensesList","items","length","map","item","onDelete","id","ChartBar","barHeight","maxValue","Math","round","style","height","label","Chart","values","dataPoints","dataPoint","ExpensesChart","chartDataPoints","expenses","forEach","expense","expenseMonth","getMonth","Expenses","setYear","filteredExpenses","filter","Number","selectedYear","instance","axios","create","baseURL","newExpense","_links","self","href","split","pop","getExpenses","a","get","response","console","log","data","_embedded","createExpenses","post","deleteExpenses","delete","DUMMY_EXPENSES","App","defaultValue","setExpenses","useEffect","alert","useFetch","aExpenses","handleAddExpense","handleDelete","window","confirm","ex","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4948500e.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport \"./ExpenseForm.css\";\r\n\r\nconst ExpenseForm = (props) => {\r\n  const [title, setTitle] = useState('');\r\n  const [amount, setAmount] = useState('');\r\n  const [date, setDate] = useState('');\r\n  // const [form, setForm] = useState({\r\n  //   \"title\": \"\",\r\n  //   \"amount\": \"\",\r\n  //   \"date\": new Date()\r\n  // });\r\n  const handleTitleChange = (oEvent) => {\r\n    setTitle(oEvent.target.value);\r\n    // setForm((prevState) => {\r\n    //   return {...prevState, title: oEvent.target.value}\r\n    // });\r\n  };\r\n  const handleAmountChange = (oEvent) => {\r\n    setAmount(oEvent.target.value);\r\n  };\r\n  const handleDateChange = (oEvent) => {\r\n    setDate(oEvent.target.value);\r\n  };\r\n\r\n  const handleSubmit = (oEvent) => {\r\n    oEvent.preventDefault();\r\n\r\n    const oExpenseData = {\r\n      \"title\": title,\r\n      \"amount\": +amount,\r\n      \"date\": new Date(date)\r\n    };\r\n    props.onSaveExpenseData(oExpenseData);\r\n    setTitle('');\r\n    setAmount('');\r\n    setDate('');\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"new-expense__controls\">\r\n          <div className=\"new-expense__control\">\r\n              <label>Titolo</label>\r\n              <input value={title} onChange={handleTitleChange} type=\"text\" required/>\r\n          </div>\r\n          <div className=\"new-expense__control\">\r\n              <label>Costo</label>\r\n              <input value={amount} onChange={handleAmountChange} type=\"number\" min=\"0.01\" step=\"0.01\" required/>\r\n          </div>\r\n          <div className=\"new-expense__control\">\r\n              <label>Data</label>\r\n              <input value={date} onChange={handleDateChange} type=\"date\" min=\"2019-01-01\" max=\"2022-12-31\" required/>\r\n          </div>\r\n      </div>\r\n      <div className=\"new-expense__actions\">\r\n        <button onClick={props.onCancel}>Annulla</button>\r\n        <button type=\"submit\">Aggiungi Spesa</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ExpenseForm;\r\n","import React, { useState } from \"react\";\r\n\r\nimport ExpenseForm from './ExpenseForm';\r\nimport './NewExpense.css';\r\n\r\nconst NewExpense = (props) => {\r\n  const handleExpenseSaveData = (oSavedExpenseData) => {\r\n    const oExpenseData = {\r\n      ...oSavedExpenseData,\r\n    };\r\n    props.onAddExpense(oExpenseData);\r\n    setEditMode((prev) => !prev);\r\n  };\r\n  \r\n  const [editMode, setEditMode] = useState(false);\r\n  const handleAddNewExpense = () => {\r\n    setEditMode((prev) => !prev);\r\n  }\r\n  const handleExpenseFormCancel = () => {\r\n    setEditMode((prev) => !prev);\r\n  }\r\n\r\n  let content = <button onClick={handleAddNewExpense}>Aggiungi una nuova spesa</button>;\r\n  if(editMode) {\r\n    content = <ExpenseForm onSaveExpenseData={handleExpenseSaveData} onCancel={handleExpenseFormCancel}/>;\r\n  }\r\n  return (\r\n    <div className=\"new-expense\">\r\n      {content}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewExpense;\r\n","import React from \"react\";\r\n\r\nimport './Card.css'\r\n\r\nconst Card = (props) => {\r\n    const classes = \"card \" + props.className;\r\n    return <div className={classes}>{props.children}</div>;\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nimport './ExpensesFilter.css';\r\n\r\nconst ExpensesFilter = (props) => {\r\n\r\n  const handleChangeValue = (event) => {\r\n    props.onYearSelection(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className='expenses-filter'>\r\n      <div className='expenses-filter__control'>\r\n        <label>Filtra per anno</label>\r\n        <select value={props.year} onChange={handleChangeValue}>\r\n          <option value='2022'>2022</option>\r\n          <option value='2021'>2021</option>\r\n          <option value='2020'>2020</option>\r\n          <option value='2019'>2019</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpensesFilter;","import React from \"react\";\r\n\r\nimport \"./ExpenseDate.css\";\r\n\r\nconst ExpenseDate = (props) => {\r\n  const sMonth = props.date.toLocaleString('it-IT', {month: \"long\"});\r\n  const sDay = props.date.toLocaleString('it-IT', {day: \"2-digit\"});\r\n  const sYear = props.date.getFullYear();\r\n\r\n  return (\r\n  <div className=\"expense-date\">\r\n    <div className=\"expense-date__month\">{sMonth}</div>\r\n    <div className=\"expense-date__year\">{sDay}</div>\r\n    <div className=\"expense-date__day\">{sYear}</div>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default ExpenseDate;\r\n","import React from \"react\";\r\n\r\nimport ExpenseDate from \"./ExpenseDate\";\r\nimport Card from \"src/components/UI/Card\";\r\nimport \"./ExpenseItem.css\";\r\n\r\nconst ExpenseItem = (props) => {\r\n  return (\r\n    <li>\r\n      <Card className=\"expense-item\">\r\n        <ExpenseDate date={props.date} />\r\n        <div className=\"expense-item__description\">\r\n          <h2>{props.title}</h2>\r\n          <div className=\"expense-item__price\">€{props.amount}</div>\r\n          <button className=\"expense-item__delete\" onClick={props.onDeleteItem}><img src=\"https://img.icons8.com/material-rounded/30/FFFFFF/filled-trash.png\"/></button>\r\n        </div>\r\n      </Card>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ExpenseItem;\r\n","import React from \"react\";\r\n\r\nimport ExpenseItem from \"./ExpenseItem\";\r\nimport \"./ExpensesList.css\";\r\n\r\nconst ExpensesList = (props) => {\r\n\r\n  if (props.items.length === 0) {\r\n    return <h2 className=\"expenses-list__fallback\">Nessuna spesa trovata</h2>;\r\n  }\r\n  return (\r\n    <ul className=\"expenses-list\">\r\n      {props.items.map((item) => (\r\n        <ExpenseItem\r\n          key={item.id}\r\n          title={item.title}\r\n          amount={item.amount}\r\n          date={item.date}\r\n          onDeleteItem={() => props.onDelete(item)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ExpensesList;\r\n","import React from \"react\";\r\n\r\nimport \"./ChartBar.css\";\r\n\r\nconst ChartBar = (props) => {\r\n  let barHeight = \"0%\";\r\n\r\n  if (props.maxValue > 0) {\r\n    barHeight = Math.round((props.value / props.maxValue) * 100) + \"%\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"chart-bar\">\r\n      <div className=\"chart-bar__inner\">\r\n        <div className=\"chart-bar__fill\" style={{ height: barHeight }}></div>\r\n      </div>\r\n      <div className=\"chart-bar__label\">{props.label}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartBar;\r\n","import React from \"react\";\r\n\r\nimport ChartBar from \"./ChartBar\";\r\nimport \"./Chart.css\";\r\n\r\nconst Chart = props => {\r\n    const values = props.dataPoints.map(item => item.value);\r\n    const maxValue = Math.max(...values);\r\n  \r\n    return (\r\n    <div className=\"chart\">\r\n      {props.dataPoints.map((dataPoint) => (\r\n        <ChartBar\r\n          key={dataPoint.label}\r\n          value={dataPoint.value}\r\n          maxValue={maxValue}\r\n          label={dataPoint.label}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chart;\r\n","import React from \"react\";\r\n\r\nimport Chart from \"src/components/Chart/Chart.js\"\r\n\r\nconst ExpensesChart = props => {\r\n    const chartDataPoints = [\r\n        {value: 0, label: \"Gen\"},\r\n        {value: 0, label: \"Feb\"},\r\n        {value: 0, label: \"Mar\"},\r\n        {value: 0, label: \"Apr\"},\r\n        {value: 0, label: \"Mag\"},\r\n        {value: 0, label: \"Giu\"},\r\n        {value: 0, label: \"Lug\"},\r\n        {value: 0, label: \"Ago\"},\r\n        {value: 0, label: \"Set\"},\r\n        {value: 0, label: \"Ott\"},\r\n        {value: 0, label: \"Nov\"},\r\n        {value: 0, label: \"Dic\"}\r\n    ];\r\n    props.expenses.forEach(expense => {\r\n        const expenseMonth = expense.date.getMonth(); // Gen è 0, dic 11\r\n        chartDataPoints[expenseMonth].value += expense.amount;\r\n    });\r\n\r\n    return <Chart dataPoints={chartDataPoints} />\r\n};\r\n\r\nexport default ExpensesChart;","import React, { useState } from \"react\";\r\nimport Card from \"src/components/UI/Card\";\r\nimport ExpensesFilter from \"./ExpensesFilter\";\r\nimport ExpensesList from \"./ExpensesList\";\r\nimport ExpensesChart from \"./ExpensesChart\";\r\nimport \"./Expenses.css\";\r\n\r\nconst Expenses = (props) => {\r\n  const [year, setYear] = useState(\"2022\");\r\n  const handleYearSelection = (selectedYear) => {\r\n    setYear(selectedYear);\r\n  };\r\n\r\n  const handleDelete = (expense) => {\r\n    props.onDelete(expense);\r\n  }\r\n\r\n  const filteredExpenses = props.items.filter(\r\n    (item) => item.date.getFullYear() === Number(year)\r\n  );\r\n\r\n  return (\r\n    <Card className=\"expenses\">\r\n      <ExpensesFilter year={year} onYearSelection={handleYearSelection} />\r\n      <ExpensesChart expenses={filteredExpenses} />\r\n      <ExpensesList items={filteredExpenses} onDelete={handleDelete}/>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Expenses;\r\n","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'api'\r\n})\r\n\r\nexport default instance","import axios from \"./axios\"\r\n\r\nconst newExpense = (item) => ({\r\n    ...item,\r\n    id: item._links.self.href.split('/').pop(),\r\n    date: new Date(item.date)\r\n})\r\n\r\nexport const getExpenses = async () => {\r\n    try {\r\n        const response = await axios.get('/items', {})\r\n        console.log(response)\r\n        const data = response.data._embedded.items.map(newExpense)\r\n        return data\r\n    } catch (ex) {\r\n        console.log(ex)\r\n        throw ex\r\n    }\r\n}\r\n\r\nexport const createExpenses = async (expense) => {\r\n    try {\r\n        const response = await axios.post('/items', expense)\r\n        console.log(response)\r\n        const data = newExpense(response.data)\r\n        return data\r\n    } catch (ex) {\r\n        console.log(ex)\r\n        throw ex\r\n    }\r\n}\r\n\r\nexport const deleteExpenses = async (id) => {\r\n    try {\r\n        await axios.delete('/items/' + id)\r\n    } catch (ex) {\r\n        console.log(ex)\r\n        throw ex\r\n    }\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport NewExpense from \"src/components/NewExpense/NewExpense\";\r\nimport Expenses from \"src/components/Expenses/Expenses\";\r\nimport { createExpenses, getExpenses, deleteExpenses } from \"./utils/helper\";\r\n\r\nconst DUMMY_EXPENSES = [\r\n  {\r\n    id: \"1\",\r\n    title: \"Meccanico Moto\",\r\n    amount: 250,\r\n    date: new Date(2021, 10, 31),\r\n  },\r\n  { id: \"2\", title: \"Panino\", amount: 10, date: new Date(2021, 12, 7) },\r\n  { id: \"3\", title: \"Computer\", amount: 1000, date: new Date(2021, 11, 20) },\r\n  { id: \"4\", title: \"Scarpe\", amount: 130, date: new Date() },\r\n];\r\n\r\nconst useFetch = (defaultValue) => {\r\n  const [expenses, setExpenses] = useState(defaultValue);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setExpenses(await getExpenses());\r\n      } catch (ex) {\r\n        alert(ex);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return [expenses, setExpenses];\r\n};\r\n\r\nconst App = () => {\r\n  const [aExpenses, setExpenses] = useFetch(DUMMY_EXPENSES);\r\n\r\n  const handleAddExpense = async (expense) => {\r\n    try {\r\n      const newExpense = await createExpenses(expense);\r\n      setExpenses((prev) => [newExpense, ...prev]);\r\n    } catch (ex) {\r\n      alert(ex);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (expense) => {\r\n    const choose = window.confirm(\r\n      `Sei sicuro di voler eliminare la spesa ${expense.title}?`\r\n    );\r\n    if (choose) {\r\n      try {\r\n        deleteExpenses(expense.id);\r\n        setExpenses((prev) => prev.filter((item) => item.id !== expense.id));\r\n      } catch (ex) {\r\n        alert(ex);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <NewExpense onAddExpense={handleAddExpense} />\r\n      <Expenses items={aExpenses} onDelete={handleDelete} />\r\n    </div>\r\n  );\r\n\r\n  // React.createElement(\r\n  //   \"div\",\r\n  //   {},\r\n  //   React.createElement(\"h2\", {}, \"Let's get started\"),\r\n  //   React.createElement(Expenses, {items: aExpenses})\r\n  // );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}