(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{27:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(21),r=n.n(c),s=(n(27),n(11)),i=n(2),l=n.n(i),u=n(5),o=n(4),j=n(7),d=(n(29),n(0)),b=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),p=b[0],x=b[1];return Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={title:c,amount:+l,date:new Date(p)};e.onSaveExpenseData(n),r(""),u(""),x("")},children:[Object(d.jsxs)("div",{className:"new-expense__controls",children:[Object(d.jsxs)("div",{className:"new-expense__control",children:[Object(d.jsx)("label",{children:"Titolo"}),Object(d.jsx)("input",{value:c,onChange:function(e){r(e.target.value)},type:"text",required:!0})]}),Object(d.jsxs)("div",{className:"new-expense__control",children:[Object(d.jsx)("label",{children:"Costo"}),Object(d.jsx)("input",{value:l,onChange:function(e){u(e.target.value)},type:"number",min:"0.01",step:"0.01",required:!0})]}),Object(d.jsxs)("div",{className:"new-expense__control",children:[Object(d.jsx)("label",{children:"Data"}),Object(d.jsx)("input",{value:p,onChange:function(e){x(e.target.value)},type:"date",min:"2019-01-01",max:"2022-12-31",required:!0})]})]}),Object(d.jsxs)("div",{className:"new-expense__actions",children:[Object(d.jsx)("button",{onClick:e.onCancel,children:"Annulla"}),Object(d.jsx)("button",{type:"submit",children:"Aggiungi Spesa"})]})]})},p=(n(31),function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(d.jsx)("button",{onClick:function(){r((function(e){return!e}))},children:"Aggiungi una nuova spesa"});return c&&(s=Object(d.jsx)(b,{onSaveExpenseData:function(t){var n=Object(j.a)({},t);e.onAddExpense(n),r((function(e){return!e}))},onCancel:function(){r((function(e){return!e}))}})),Object(d.jsx)("div",{className:"new-expense",children:s})}),x=(n(32),function(e){var t="card "+e.className;return Object(d.jsx)("div",{className:t,children:e.children})}),v=(n(33),function(e){return Object(d.jsx)("div",{className:"expenses-filter",children:Object(d.jsxs)("div",{className:"expenses-filter__control",children:[Object(d.jsx)("label",{children:"Filtra per anno"}),Object(d.jsxs)("select",{value:e.year,onChange:function(t){e.onYearSelection(t.target.value)},children:[Object(d.jsx)("option",{value:"2022",children:"2022"}),Object(d.jsx)("option",{value:"2021",children:"2021"}),Object(d.jsx)("option",{value:"2020",children:"2020"}),Object(d.jsx)("option",{value:"2019",children:"2019"})]})]})})}),f=(n(34),function(e){var t=e.date.toLocaleString("it-IT",{month:"long"}),n=e.date.toLocaleString("it-IT",{day:"2-digit"}),a=e.date.getFullYear();return Object(d.jsxs)("div",{className:"expense-date",children:[Object(d.jsx)("div",{className:"expense-date__month",children:t}),Object(d.jsx)("div",{className:"expense-date__year",children:n}),Object(d.jsx)("div",{className:"expense-date__day",children:a})]})}),h=(n(35),function(e){return Object(d.jsx)("li",{children:Object(d.jsxs)(x,{className:"expense-item",children:[Object(d.jsx)(f,{date:e.date}),Object(d.jsxs)("div",{className:"expense-item__description",children:[Object(d.jsx)("h2",{children:e.title}),Object(d.jsxs)("div",{className:"expense-item__price",children:["\u20ac",e.amount]}),Object(d.jsx)("button",{className:"expense-item__delete",onClick:e.onDeleteItem,children:Object(d.jsx)("img",{src:"https://img.icons8.com/material-rounded/30/FFFFFF/filled-trash.png"})})]})]})})}),m=(n(36),function(e){return 0===e.items.length?Object(d.jsx)("h2",{className:"expenses-list__fallback",children:"Nessuna spesa trovata"}):Object(d.jsx)("ul",{className:"expenses-list",children:e.items.map((function(t){return Object(d.jsx)(h,{title:t.title,amount:t.amount,date:t.date,onDeleteItem:function(){return e.onDelete(t)}},t.id)}))})}),O=(n(37),function(e){var t="0%";return e.maxValue>0&&(t=Math.round(e.value/e.maxValue*100)+"%"),Object(d.jsxs)("div",{className:"chart-bar",children:[Object(d.jsx)("div",{className:"chart-bar__inner",children:Object(d.jsx)("div",{className:"chart-bar__fill",style:{height:t}})}),Object(d.jsx)("div",{className:"chart-bar__label",children:e.label})]})}),g=(n(38),function(e){var t=e.dataPoints.map((function(e){return e.value})),n=Math.max.apply(Math,Object(s.a)(t));return Object(d.jsx)("div",{className:"chart",children:e.dataPoints.map((function(e){return Object(d.jsx)(O,{value:e.value,maxValue:n,label:e.label},e.label)}))})}),_=function(e){var t=[{value:0,label:"Gen"},{value:0,label:"Feb"},{value:0,label:"Mar"},{value:0,label:"Apr"},{value:0,label:"Mag"},{value:0,label:"Giu"},{value:0,label:"Lug"},{value:0,label:"Ago"},{value:0,label:"Set"},{value:0,label:"Ott"},{value:0,label:"Nov"},{value:0,label:"Dic"}];return e.expenses.forEach((function(e){var n=e.date.getMonth();t[n].value+=e.amount})),Object(d.jsx)(g,{dataPoints:t})},w=(n(39),function(e){var t=Object(a.useState)("2022"),n=Object(o.a)(t,2),c=n[0],r=n[1],s=e.items.filter((function(e){return e.date.getFullYear()===Number(c)}));return Object(d.jsxs)(x,{className:"expenses",children:[Object(d.jsx)(v,{year:c,onYearSelection:function(e){r(e)}}),Object(d.jsx)(_,{expenses:s}),Object(d.jsx)(m,{items:s,onDelete:function(t){e.onDelete(t)}})]})}),N=n(22),y=n.n(N).a.create({baseURL:"api"}),D=function(e){return Object(j.a)(Object(j.a)({},e),{},{id:e._links.self.href.split("/").pop(),date:new Date(e.date)})},S=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/items",{});case 3:return t=e.sent,console.log(t),n=t.data._embedded.items.map(D),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.post("/items",t);case 3:return n=e.sent,console.log(n),a=D(n.data),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.delete("/items/"+t);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),F=[{id:"1",title:"Meccanico Moto",amount:250,date:new Date(2021,10,31)},{id:"2",title:"Panino",amount:10,date:new Date(2021,12,7)},{id:"3",title:"Computer",amount:1e3,date:new Date(2021,11,20)},{id:"4",title:"Scarpe",amount:130,date:new Date}],M=function(){var e=function(e){var t=Object(a.useState)(e),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=r,e.next=4,S();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),alert(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),[c,r]}(F),t=Object(o.a)(e,2),n=t[0],c=t[1],r=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:n=e.sent,c((function(e){return[n].concat(Object(s.a)(e))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Sei sicuro di voler eliminare la spesa ".concat(t.title,"?")))try{C(t.id),c((function(e){return e.filter((function(e){return e.id!==t.id}))}))}catch(n){alert(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{onAddExpense:r}),Object(d.jsx)(w,{items:n,onDelete:i})]})};r.a.render(Object(d.jsx)(M,{}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.4948500e.chunk.js.map